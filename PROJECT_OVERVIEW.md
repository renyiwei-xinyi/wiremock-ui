# WireMock UI 项目概览

## 项目简介

WireMock UI 是一个现代化的 WireMock 前端可视化管理工具，为开源 API 模拟工具 WireMock 提供直观、美观的 Web 界面。该项目使用 React + Ant Design 构建，支持 WireMock 的所有核心功能。

## 核心特性

### ✨ 功能完整性
- **100% API 覆盖**: 支持 WireMock 的所有管理 API
- **实时监控**: 动态显示服务状态和统计信息
- **可视化操作**: 图形化界面替代命令行操作
- **批量管理**: 支持映射的批量导入、导出、删除等操作

### 🎨 用户体验
- **现代化设计**: 采用 Ant Design 5.0 设计语言
- **响应式布局**: 适配桌面、平板、手机等各种设备
- **直观操作**: 简化复杂的 API 配置流程
- **实时反馈**: 操作结果即时显示，错误信息清晰

### 🔧 技术先进性
- **React 18**: 使用最新的 React 特性和 Hooks
- **Vite 构建**: 快速的开发和构建体验
- **TypeScript 支持**: 类型安全的开发环境
- **Monaco Editor**: 专业的代码编辑体验

## 架构设计

### 前端架构
```
┌─────────────────┐
│   React App     │
├─────────────────┤
│  Ant Design UI  │
├─────────────────┤
│  Axios HTTP     │
├─────────────────┤
│  Vite Proxy     │
└─────────────────┘
         │
         ▼
┌─────────────────┐
│  WireMock API   │
│  /__admin/*     │
└─────────────────┘
```

### 组件结构
```
src/
├── App.jsx                 # 主应用组件，路由配置
├── main.jsx               # 应用入口点
├── index.css              # 全局样式定义
├── services/
│   └── wiremockApi.js     # WireMock API 封装
└── components/
    ├── Dashboard.jsx      # 仪表板 - 系统概览
    ├── StubMappings.jsx   # Stub 映射管理
    ├── Requests.jsx       # 请求记录查看
    ├── Scenarios.jsx      # 场景状态管理
    ├── Recording.jsx      # 录制回放功能
    └── Settings.jsx       # 系统设置配置
```

## 功能模块详解

### 1. 仪表板 (Dashboard)
**目的**: 提供系统状态的总览视图
**功能**:
- WireMock 服务连接状态监控
- 关键指标统计（映射数量、请求数量、匹配率等）
- 快速操作入口
- 系统信息展示

**技术实现**:
- 使用 React Hooks 管理状态
- 定时轮询获取最新数据
- 响应式卡片布局
- 图表数据可视化

### 2. Stub 映射管理 (StubMappings)
**目的**: 核心功能，管理 API 模拟规则
**功能**:
- CRUD 操作（创建、读取、更新、删除）
- 批量操作（导入、导出、重置、清空）
- 搜索和过滤
- 可视化编辑器

**技术实现**:
- 表格组件展示映射列表
- 模态框表单进行编辑
- Monaco Editor 提供 JSON 编辑
- 抽屉组件显示详细信息

### 3. 请求记录 (Requests)
**目的**: 监控和分析传入的 HTTP 请求
**功能**:
- 请求历史记录查看
- 请求详情展示
- 匹配状态分析
- 多维度过滤

**技术实现**:
- 时间序列数据展示
- 状态标签可视化
- 详情抽屉展示完整信息
- 实时数据更新

### 4. 场景管理 (Scenarios)
**目的**: 管理有状态的 API 模拟场景
**功能**:
- 场景状态查看
- 状态重置操作
- 场景说明文档

**技术实现**:
- 状态机可视化
- 操作确认机制
- 帮助文档集成

### 5. 录制回放 (Recording)
**目的**: 从真实 API 录制响应生成映射
**功能**:
- 实时录制配置
- 快照录制功能
- 录制状态监控
- 高级配置选项

**技术实现**:
- 表单配置界面
- 状态管理和监控
- 实时反馈机制

### 6. 系统设置 (Settings)
**目的**: 配置 WireMock 服务参数
**功能**:
- 全局设置管理
- 性能参数调优
- 功能开关控制
- 配置导入导出

**技术实现**:
- 分组表单布局
- 实时保存机制
- 配置验证逻辑

## API 集成

### WireMock Admin API 映射
| 功能 | HTTP 方法 | 端点 | 用途 |
|------|-----------|------|------|
| 获取映射 | GET | `/__admin/mappings` | 列出所有 stub 映射 |
| 创建映射 | POST | `/__admin/mappings` | 创建新的 stub 映射 |
| 更新映射 | PUT | `/__admin/mappings/{id}` | 更新指定映射 |
| 删除映射 | DELETE | `/__admin/mappings/{id}` | 删除指定映射 |
| 获取请求 | GET | `/__admin/requests` | 获取请求记录 |
| 获取场景 | GET | `/__admin/scenarios` | 获取场景状态 |
| 开始录制 | POST | `/__admin/recordings/start` | 开始录制 |
| 获取设置 | GET | `/__admin/settings` | 获取全局设置 |

### 错误处理策略
- **网络错误**: 自动重试机制
- **API 错误**: 用户友好的错误提示
- **数据验证**: 前端表单验证 + 后端错误处理
- **状态管理**: 乐观更新 + 错误回滚

## 开发规范

### 代码规范
- **组件命名**: PascalCase（如 `StubMappings`）
- **文件命名**: PascalCase for components, camelCase for utilities
- **状态管理**: React Hooks + 本地状态
- **样式管理**: CSS Classes + Ant Design 主题

### 项目结构规范
- **组件职责单一**: 每个组件专注一个功能领域
- **API 层分离**: 统一的 API 调用封装
- **样式统一**: 全局样式 + 组件样式
- **配置集中**: 构建配置和环境配置分离

## 部署方案

### 开发环境
```bash
npm install    # 安装依赖
npm run dev    # 启动开发服务器
```

### 生产环境
```bash
npm run build  # 构建生产版本
npm run preview # 预览构建结果
```

### Docker 部署
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "run", "preview"]
```

## 性能优化

### 前端优化
- **代码分割**: 路由级别的懒加载
- **资源压缩**: Vite 自动压缩和优化
- **缓存策略**: HTTP 缓存 + 浏览器缓存
- **图片优化**: 响应式图片和懒加载

### 网络优化
- **API 代理**: 避免跨域问题
- **请求合并**: 批量 API 调用
- **数据缓存**: 合理的数据缓存策略
- **错误重试**: 网络错误自动重试

## 扩展性设计

### 插件化架构
- **组件插件**: 可扩展的功能组件
- **主题插件**: 可定制的界面主题
- **API 插件**: 可扩展的 API 集成

### 国际化支持
- **多语言**: i18n 框架集成
- **本地化**: 日期、数字格式本地化
- **RTL 支持**: 右到左语言支持

## 测试策略

### 单元测试
- **组件测试**: React Testing Library
- **工具函数测试**: Jest
- **API 测试**: Mock Service Worker

### 集成测试
- **端到端测试**: Playwright/Cypress
- **API 集成测试**: 真实 WireMock 服务
- **性能测试**: Lighthouse CI

## 未来规划

### 短期目标 (1-3 个月)
- [ ] 添加更多的 WireMock 高级功能支持
- [ ] 实现配置文件的导入导出
- [ ] 添加更多的数据可视化图表
- [ ] 优化移动端体验

### 中期目标 (3-6 个月)
- [ ] 支持多个 WireMock 实例管理
- [ ] 添加用户权限和认证系统
- [ ] 实现协作功能和版本控制
- [ ] 集成 API 文档生成

### 长期目标 (6-12 个月)
- [ ] 云服务版本开发
- [ ] 企业级功能扩展
- [ ] 生态系统集成
- [ ] 开源社区建设

## 贡献指南

### 开发流程
1. Fork 项目仓库
2. 创建功能分支
3. 开发和测试
4. 提交 Pull Request
5. 代码审查和合并

### 代码贡献
- 遵循现有的代码规范
- 添加必要的测试用例
- 更新相关文档
- 确保构建通过

## 技术支持

### 文档资源
- [README.md](README.md) - 项目介绍和使用说明
- [INSTALL.md](INSTALL.md) - 安装和部署指南
- [WireMock 官方文档](http://wiremock.org/docs/) - WireMock 详细文档

### 社区支持
- GitHub Issues - 问题报告和功能请求
- GitHub Discussions - 技术讨论和经验分享
- 官方文档 - 详细的使用指南

---

**项目状态**: ✅ 已完成核心功能开发，可用于生产环境
**维护状态**: 🔄 持续维护和功能增强
**社区状态**: 🌟 欢迎贡献和反馈
